{
	"oneOf": [
		{
			"$ref": "#/definitions/templateCsv"
		}
	],
	"definitions": {
		"templateCsv": {
			"properties": {
				"template": {
					"enum": [
						"csv"
					]
				},
				"count": {
					"type": "integer",
					"minimum": 0,
					"maximum": 1000000
				},
				"columns": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/column"
					},
					"minItems": 1
				},
				"payload": {
					"properties": {
						"header": {
							"type": "boolean"
						},
						"separator": {
							"type": "string"
						}
					}
				}
			},
			"required": [
				"template",
				"columns"
			]
		},
		"column": {
			"oneOf": [
				{
					"$ref": "#/definitions/columnConst"
				},
				{
					"$ref": "#/definitions/columnCreditCardNumber"
				},
				{
					"$ref": "#/definitions/columnCreditCardType"
				},
				{
					"$ref": "#/definitions/columnJoin"
				},
				{
					"$ref": "#/definitions/columnName"
				},
				{
					"$ref": "#/definitions/columnRegex"
				},
				{
					"$ref": "#/definitions/columnRowIndex"
				}
			]
		},
		"columnConst": {
			"properties": {
				"name": {
					"type": "string"
				},
				"type": {
					"enum": [
						"const"
					]
				},
				"payload": {
					"properties": {
						"value": {
							"type": "string"
						}
					},
					"required": [
						"value"
					]
				}
			},
			"required": [
				"name",
				"type",
				"payload"
			]
		},
		"columnCreditCardNumber": {
			"properties": {
				"name": {
					"type": "string"
				},
				"type": {
					"enum": [
						"credit_card.number"
					]
				},
				"payload": {
					"properties": {
						"type": {
							"enum": [
								"amex",
								"discover",
								"mastercard",
								"visa"
							]
						}
					}
				}
			},
			"required": [
				"name",
				"type"
			]
		},
		"columnCreditCardType": {
			"properties": {
				"name": {
					"type": "string"
				},
				"type": {
					"enum": [
						"credit_card.type"
					]
				}
			},
			"required": [
				"name",
				"type"
			]
		},
		"columnJoin": {
			"properties": {
				"name": {
					"type": "string"
				},
				"type": {
					"enum": [
						"join"
					]
				},
				"columns": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/column"
					},
					"minItems": 1
				},
				"payload": {
					"properties": {
						"separator": {
							"type": "string"
						}
					},
					"required": [
						"separator"
					]
				}
			},
			"required": [
				"name",
				"type",
				"columns"
			]
		},
		"columnName": {
			"properties": {
				"name": {
					"type": "string"
				},
				"type": {
					"enum": [
						"name.first",
						"name.first.male",
						"name.first.female",
						"name.last",
						"name.last.male",
						"name.last.female",
						"name.full",
						"name.full.male",
						"name.full.female"
					]
				}
			},
			"required": [
				"name",
				"type"
			]
		},
		"columnRegex": {
			"properties": {
				"name": {
					"type": "string"
				},
				"type": {
					"enum": [
						"regex"
					]
				},
				"payload": {
					"properties": {
						"regex": {
							"type": "string"
						},
						"limit": {
							"type": "integer",
							"minimum": 0,
							"maximum": 50
						}
					},
					"required": [
						"regex"
					]
				}
			},
			"required": [
				"name",
				"type",
				"payload"
			]
		},
		"columnRowIndex": {
			"type": "object",
			"properties": {
				"name": {
					"type": "string"
				},
				"type": {
					"enum": [
						"row_index"
					]
				}
			},
			"required": [
				"name",
				"type"
			]
		}
	}
}